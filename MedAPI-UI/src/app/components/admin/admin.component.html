<div class="maintainer">
  <h1 fxLayoutAlign="center center">Usuarios Activos:</h1>
  <div fxLayout="row wrap" fxLayoutAlign="space-between center">
    <mat-card fxFlex="30" class="no-pad" style="height:100px; padding:15px;">
      <h2 fxLayoutAlign="center center" style="font-size: xx-large;">{{userCounts.numPatients}}</h2>
      <p fxLayoutAlign="center center">Pacientes </p>
    </mat-card>
    <mat-card fxFlex="30" class="no-pad" style="height:100px; padding:15px">
      <h2 fxLayoutAlign="center center" style="font-size: xx-large;">{{userCounts.numMedics}}</h2>
      <p fxLayoutAlign="center center">Doctores </p>
    </mat-card>
    <mat-card fxFlex="30" class="no-pad" style="height:100px; padding:15px">
      <h2 fxLayoutAlign="center center" style="font-size: xx-large;">{{userCounts.numLabs}}</h2>
      <p fxLayoutAlign="center center">Laboratorios </p>
    </mat-card>
  </div>
  <h1 fxLayoutAlign="center center">Gestión de Usuarios:</h1>
  <mat-tab-group>
    <mat-tab label="Doctores">
      <h2 style="margin-top: 20px">Doctores</h2>
      <div fxLayout="row wrap" fxLayoutAlign="left center">
        <span
          fxFlex="3"
          fxFlex.md="5"
          fxFlex.sm="8"
          fxFlex.xs="12"
          style="margin-right: 20px"
          >Buscar:</span
        >
        <mat-form-field
          fxFlex="15"
          fxFlex.md="12"
          fxFlex.sm="10"
          fxFlex.xs="20"
          style="margin-right: 20px"
        >
          <input
            matInput
            [(ngModel)]="filterEntity.user.firstName"
            appearance="outline"
            placeholder="Nombre"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" fxFlex.xs="30" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntity.user.lastNameFather"
            appearance="outline"
            placeholder="Apellido Paterno"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" fxFlex.xs="30" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntity.user.lastNameMother"
            appearance="outline"
            placeholder="Apellido Materno"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntity.rne"
            appearance="outline"
            placeholder="RNE"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntity.cmp"
            appearance="outline"
            placeholder="CMP"
          />
        </mat-form-field>
      </div>

      <mat-card class="no-pad">
        <mat-card-content>
          <div fxLayout="row" class="mt-24"></div>
          <mat-table
            [dataSource]="this.nonApprovedMedics"
            matSort
            matTableFilter
            [exampleEntity]="filterEntity"
            [filterType]="filterType"
          >
            <!-- Position Column -->
            <ng-container matColumnDef="user.firstName">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.user.firstName"
            appearance="outline"
            placeholder="Buscar Nombre"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>Nombre</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.user.firstName }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="user.lastNameMother">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
            <input
              matInput
              [(ngModel)]="filterEntity.user.lastNameMother"
              appearance="outline"
              placeholder="Buscar Apellido Materno"
            />
          </mat-form-field> -->
                  <div style="display: flex">
                    <span>Apellido Materno</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.user.lastNameMother }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="user.lastNameFather">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.user.lastNameFather"
            appearance="outline"
            placeholder="Buscar Apellido Paterno"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>Apellido Paterno</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.user.lastNameFather }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="rne">
              <mat-header-cell *matHeaderCellDef>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.rne"
            appearance="outline"
            placeholder="Buscar RNE"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>RNE</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{ element.rne }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="cmp">
              <mat-header-cell *matHeaderCellDef>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.cmp"
            appearance="outline"
            placeholder="Buscar CMP"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>CMP</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{ element.cmp }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="status">
              <mat-header-cell *matHeaderCellDef> Estado </mat-header-cell>
              <mat-cell *matCellDef="let element">
                  {{ element.IsFreezed ? "Congelado" : element.IsApproved ? "Aprobado" : element.IsDenied ? "Denegado" : "Pendiente" }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="action">
              <mat-header-cell *matHeaderCellDef> </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  [disabled]="element.IsApproved"
                  (click)="approveeMedic(element.user.id)"
                >
                  Aprobar
                </button>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="action2">
              <mat-header-cell *matHeaderCellDef> </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  [disabled]="element.IsDenied"
                  (click)="denyMedic(element.user.id)"
                >
                  Negar
                </button>
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="action3">
              <mat-header-cell *matHeaderCellDef> </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  (click)="freezeMedic(element.user.id)"
                  [disabled]="!element.IsApproved"
                >
                  {{ element.IsFreezed ? "Descongelar" : "Congelar" }}
                </button>
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumnsUpload"
            ></mat-header-row>
            <mat-row
              *matRowDef="let row; columns: displayedColumnsUpload"
            ></mat-row>
          </mat-table>

          <mat-paginator
            [pageSizeOptions]="[5, 10, 20]"
            showFirstLastButtons
            [pageSize]="10"
          ></mat-paginator>
        </mat-card-content>
      </mat-card>
    </mat-tab>
    <mat-tab label="Labs">
      <h2 style="margin-top: 20px">Labs</h2>
      <div fxLayout="row wrap" fxLayoutAlign="left center">
        <span
          fxFlex="3"
          fxFlex.md="5"
          fxFlex.sm="8"
          fxFlex.xs="12"
          style="margin-right: 20px"
          >Buscar:</span
        >
        <mat-form-field
          fxFlex="15"
          fxFlex.md="12"
          fxFlex.sm="10"
          fxFlex.xs="20"
          style="margin-right: 20px"
        >
          <input
            matInput
            [(ngModel)]="filterEntityLab.parentCompany"
            appearance="outline"
            placeholder="Compañía matriz"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" fxFlex.xs="30" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntityLab.labName"
            appearance="outline"
            placeholder="Nombre del laboratorio"
          />
        </mat-form-field>
        <mat-form-field fxFlex="15" fxFlex.xs="30" style="margin-right: 20px">
          <input
            matInput
            [(ngModel)]="filterEntityLab.RUC"
            appearance="outline"
            placeholder="RUC"
          />
        </mat-form-field>
      </div>

      <mat-card class="no-pad">
        <mat-card-content>
          <div fxLayout="row" class="mt-24"></div>
          <mat-table
            [dataSource]="this.nonApprovedLabs"
            matSort
            matTableFilter
            [exampleEntity]="filterEntityLab"
            [filterType]="filterType"
          >
            <!-- Position Column -->

            <ng-container matColumnDef="parentCompany">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
            <input
              matInput
              [(ngModel)]="filterEntity.user.lastNameMother"
              appearance="outline"
              placeholder="Buscar Apellido Materno"
            />
          </mat-form-field> -->
                  <div style="display: flex">
                    <span>Compañía matriz</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.parentCompany }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="labName">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.user.lastNameFather"
            appearance="outline"
            placeholder="Buscar Apellido Paterno"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>Nombre del laboratorio</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.labName }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="RUC">
              <mat-header-cell *matHeaderCellDef>
                <div style="display: block">
                  <!-- <mat-form-field style="width: 80%; display: flex; justify-content: space-around; text-align: center;">
          <input
            matInput
            [(ngModel)]="filterEntity.rne"
            appearance="outline"
            placeholder="Buscar RNE"
          />
        </mat-form-field> -->
                  <div style="display: flex">
                    <span>RUC</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{ element.RUC }} </mat-cell>
            </ng-container>

            <!-- <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                <div style="display: block">
                  <div style="display: flex">
                    <span>Email</span>
                  </div>
                </div>
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.user.email }}
              </mat-cell>
            </ng-container> -->

            <ng-container matColumnDef="status">
              <mat-header-cell *matHeaderCellDef> Estado </mat-header-cell>
              <mat-cell *matCellDef="let element">
                  {{ element.IsFreezed ? "Congelado" : element.IsApproved ? "Aprobado" : element.IsDenied ? "Denegado" : "Pendiente" }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="action">
              <mat-header-cell *matHeaderCellDef> Acción </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  [disabled]="element.IsApproved"
                  (click)="approveeLab(element.user.id)"
                >
                  Aprobar
                </button>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="action2">
              <mat-header-cell *matHeaderCellDef> Acción </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  [disabled]="element.IsDenied"
                  (click)="denyLab(element.user.id)"
                >
                  Negar
                </button>
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="action3">
              <mat-header-cell *matHeaderCellDef> Acción </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button
                  mat-button
                  type="button"
                  color="primary"
                  (click)="freezeLab(element.user.id)"
                  [disabled]="!element.IsApproved"
                >
                  {{ element.IsFreezed ? "Descongelar" : "Congelar" }}
                </button>
              </mat-cell>
            </ng-container>

            <mat-header-row
              *matHeaderRowDef="displayedColumnsUploadLab"
            ></mat-header-row>
            <mat-row
              *matRowDef="let row; columns: displayedColumnsUploadLab"
            ></mat-row>
          </mat-table>

          <mat-paginator
            [pageSizeOptions]="[5, 10, 20]"
            showFirstLastButtons
            [pageSize]="10"
          ></mat-paginator>
        </mat-card-content>
      </mat-card>
    </mat-tab>
  </mat-tab-group>
</div>
